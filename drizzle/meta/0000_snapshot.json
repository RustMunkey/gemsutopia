{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.categories": {
      "name": "categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_categories_active": {
          "name": "idx_categories_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_categories_parent": {
          "name": "idx_categories_parent",
          "columns": [
            {
              "expression": "parent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_categories_slug": {
          "name": "idx_categories_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "categories_parent_id_fkey": {
          "name": "categories_parent_id_fkey",
          "tableFrom": "categories",
          "tableTo": "categories",
          "schemaTo": "public",
          "columnsFrom": ["parent_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "categories_slug_key": {
          "columns": ["slug"],
          "nullsNotDistinct": false,
          "name": "categories_slug_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "short_description": {
          "name": "short_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "sale_price": {
          "name": "sale_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "on_sale": {
          "name": "on_sale",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cost_price": {
          "name": "cost_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "inventory": {
          "name": "inventory",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sku": {
          "name": "sku",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "track_inventory": {
          "name": "track_inventory",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "low_stock_threshold": {
          "name": "low_stock_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "images": {
          "name": "images",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "featured_image_index": {
          "name": "featured_image_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "gemstone_type": {
          "name": "gemstone_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "carat_weight": {
          "name": "carat_weight",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "cut": {
          "name": "cut",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clarity": {
          "name": "clarity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "origin": {
          "name": "origin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "treatment": {
          "name": "treatment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certification": {
          "name": "certification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certification_number": {
          "name": "certification_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dimensions": {
          "name": "dimensions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "shape": {
          "name": "shape",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_new": {
          "name": "is_new",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_bestseller": {
          "name": "is_bestseller",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "purchase_count": {
          "name": "purchase_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "average_rating": {
          "name": "average_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_products_active": {
          "name": "idx_products_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_products_category": {
          "name": "idx_products_category",
          "columns": [
            {
              "expression": "category_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_created": {
          "name": "idx_products_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_featured": {
          "name": "idx_products_featured",
          "columns": [
            {
              "expression": "featured",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((featured = true) AND (is_active = true))",
          "with": {}
        },
        "idx_products_gemstone": {
          "name": "idx_products_gemstone",
          "columns": [
            {
              "expression": "gemstone_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(gemstone_type IS NOT NULL)",
          "with": {}
        },
        "idx_products_inventory": {
          "name": "idx_products_inventory",
          "columns": [
            {
              "expression": "inventory",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(inventory > 0)",
          "with": {}
        },
        "idx_products_price": {
          "name": "idx_products_price",
          "columns": [
            {
              "expression": "price",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_products_slug": {
          "name": "idx_products_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "products_category_id_fkey": {
          "name": "products_category_id_fkey",
          "tableFrom": "products",
          "tableTo": "categories",
          "schemaTo": "public",
          "columnsFrom": ["category_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_slug_key": {
          "columns": ["slug"],
          "nullsNotDistinct": false,
          "name": "products_slug_key"
        },
        "products_sku_key": {
          "columns": ["sku"],
          "nullsNotDistinct": false,
          "name": "products_sku_key"
        }
      },
      "checkConstraints": {
        "products_price_check": {
          "name": "products_price_check",
          "value": "price >= (0)::numeric"
        },
        "products_sale_price_check": {
          "name": "products_sale_price_check",
          "value": "(sale_price IS NULL) OR (sale_price >= (0)::numeric)"
        },
        "products_inventory_check": {
          "name": "products_inventory_check",
          "value": "inventory >= 0"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_payment_id": {
          "name": "provider_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_customer_id": {
          "name": "provider_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'CAD'"
        },
        "fee_amount": {
          "name": "fee_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_amount": {
          "name": "net_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "payment_method_type": {
          "name": "payment_method_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method_details": {
          "name": "payment_method_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "refund_amount": {
          "name": "refund_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "refund_reason": {
          "name": "refund_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refunded_at": {
          "name": "refunded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "provider_response": {
          "name": "provider_response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payments_order": {
          "name": "idx_payments_order",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payments_provider_id": {
          "name": "idx_payments_provider_id",
          "columns": [
            {
              "expression": "provider_payment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payments_order_id_fkey": {
          "name": "payments_order_id_fkey",
          "tableFrom": "payments",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "payments_provider_check": {
          "name": "payments_provider_check",
          "value": "provider = ANY (ARRAY['stripe'::text, 'paypal'::text, 'btc'::text, 'manual'::text])"
        },
        "payments_status_check": {
          "name": "payments_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'processing'::text, 'succeeded'::text, 'failed'::text, 'cancelled'::text, 'refunded'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line1": {
          "name": "address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line2": {
          "name": "address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "province": {
          "name": "province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Canada'"
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'customer'"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'CAD'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_role": {
          "name": "idx_users_role",
          "columns": [
            {
              "expression": "role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_key": {
          "columns": ["email"],
          "nullsNotDistinct": false,
          "name": "users_email_key"
        }
      },
      "checkConstraints": {
        "users_role_check": {
          "name": "users_role_check",
          "value": "role = ANY (ARRAY['customer'::text, 'admin'::text, 'super_admin'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.orders": {
      "name": "orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_number": {
          "name": "order_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer_email": {
          "name": "customer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_line1": {
          "name": "shipping_address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_line2": {
          "name": "shipping_address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_city": {
          "name": "shipping_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_province": {
          "name": "shipping_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_postal_code": {
          "name": "shipping_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_country": {
          "name": "shipping_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Canada'"
        },
        "billing_same_as_shipping": {
          "name": "billing_same_as_shipping",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "billing_address_line1": {
          "name": "billing_address_line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_address_line2": {
          "name": "billing_address_line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_city": {
          "name": "billing_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_province": {
          "name": "billing_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_postal_code": {
          "name": "billing_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_country": {
          "name": "billing_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "shipping_cost": {
          "name": "shipping_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'CAD'"
        },
        "discount_code": {
          "name": "discount_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_id": {
          "name": "discount_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "payment_details": {
          "name": "payment_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "shipping_method": {
          "name": "shipping_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_number": {
          "name": "tracking_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shipped_at": {
          "name": "shipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "items": {
          "name": "items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "item_count": {
          "name": "item_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "customer_notes": {
          "name": "customer_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admin_notes": {
          "name": "admin_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_orders_created": {
          "name": "idx_orders_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_email": {
          "name": "idx_orders_email",
          "columns": [
            {
              "expression": "customer_email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_number": {
          "name": "idx_orders_number",
          "columns": [
            {
              "expression": "order_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_status": {
          "name": "idx_orders_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_orders_user": {
          "name": "idx_orders_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "orders_user_id_fkey": {
          "name": "orders_user_id_fkey",
          "tableFrom": "orders",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "orders_order_number_key": {
          "columns": ["order_number"],
          "nullsNotDistinct": false,
          "name": "orders_order_number_key"
        }
      },
      "checkConstraints": {
        "orders_subtotal_check": {
          "name": "orders_subtotal_check",
          "value": "subtotal >= (0)::numeric"
        },
        "orders_shipping_cost_check": {
          "name": "orders_shipping_cost_check",
          "value": "shipping_cost >= (0)::numeric"
        },
        "orders_tax_amount_check": {
          "name": "orders_tax_amount_check",
          "value": "tax_amount >= (0)::numeric"
        },
        "orders_discount_amount_check": {
          "name": "orders_discount_amount_check",
          "value": "discount_amount >= (0)::numeric"
        },
        "orders_total_check": {
          "name": "orders_total_check",
          "value": "total >= (0)::numeric"
        },
        "orders_status_check": {
          "name": "orders_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'confirmed'::text, 'processing'::text, 'shipped'::text, 'delivered'::text, 'cancelled'::text, 'refunded'::text, 'failed'::text, 'disputed'::text, 'on_hold'::text])"
        },
        "orders_payment_method_check": {
          "name": "orders_payment_method_check",
          "value": "payment_method = ANY (ARRAY['stripe'::text, 'paypal'::text, 'crypto'::text, 'btc'::text])"
        },
        "orders_payment_status_check": {
          "name": "orders_payment_status_check",
          "value": "payment_status = ANY (ARRAY['pending'::text, 'paid'::text, 'failed'::text, 'refunded'::text, 'partially_refunded'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.auctions": {
      "name": "auctions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "featured_image_index": {
          "name": "featured_image_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "starting_bid": {
          "name": "starting_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "current_bid": {
          "name": "current_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "reserve_price": {
          "name": "reserve_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "buy_now_price": {
          "name": "buy_now_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bid_increment": {
          "name": "bid_increment",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'CAD'"
        },
        "bid_count": {
          "name": "bid_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "highest_bidder_id": {
          "name": "highest_bidder_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "extended_end_time": {
          "name": "extended_end_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auto_extend": {
          "name": "auto_extend",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "extend_minutes": {
          "name": "extend_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "extend_threshold_minutes": {
          "name": "extend_threshold_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "winner_id": {
          "name": "winner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "winning_bid": {
          "name": "winning_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "won_at": {
          "name": "won_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "gemstone_type": {
          "name": "gemstone_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "carat_weight": {
          "name": "carat_weight",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "cut": {
          "name": "cut",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clarity": {
          "name": "clarity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "origin": {
          "name": "origin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certification": {
          "name": "certification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_auctions_active": {
          "name": "idx_auctions_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_auctions_current_bid": {
          "name": "idx_auctions_current_bid",
          "columns": [
            {
              "expression": "current_bid",
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auctions_end_time": {
          "name": "idx_auctions_end_time",
          "columns": [
            {
              "expression": "end_time",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auctions_status": {
          "name": "idx_auctions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auctions_highest_bidder_id_fkey": {
          "name": "auctions_highest_bidder_id_fkey",
          "tableFrom": "auctions",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["highest_bidder_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "auctions_winner_id_fkey": {
          "name": "auctions_winner_id_fkey",
          "tableFrom": "auctions",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["winner_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "auctions_product_id_fkey": {
          "name": "auctions_product_id_fkey",
          "tableFrom": "auctions",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "auctions_slug_key": {
          "columns": ["slug"],
          "nullsNotDistinct": false,
          "name": "auctions_slug_key"
        }
      },
      "checkConstraints": {
        "auctions_starting_bid_check": {
          "name": "auctions_starting_bid_check",
          "value": "starting_bid >= (0)::numeric"
        },
        "auctions_current_bid_check": {
          "name": "auctions_current_bid_check",
          "value": "current_bid >= (0)::numeric"
        },
        "auctions_check": {
          "name": "auctions_check",
          "value": "(reserve_price IS NULL) OR (reserve_price >= starting_bid)"
        },
        "auctions_check1": {
          "name": "auctions_check1",
          "value": "(buy_now_price IS NULL) OR (buy_now_price > starting_bid)"
        },
        "auctions_bid_increment_check": {
          "name": "auctions_bid_increment_check",
          "value": "bid_increment > (0)::numeric"
        },
        "auctions_bid_count_check": {
          "name": "auctions_bid_count_check",
          "value": "bid_count >= 0"
        },
        "auctions_check2": {
          "name": "auctions_check2",
          "value": "end_time > start_time"
        },
        "auctions_status_check": {
          "name": "auctions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'scheduled'::text, 'active'::text, 'ended'::text, 'sold'::text, 'cancelled'::text, 'no_sale'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.order_items": {
      "name": "order_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_name": {
          "name": "product_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_sku": {
          "name": "product_sku",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_image": {
          "name": "product_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "product_details": {
          "name": "product_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_order_items_order": {
          "name": "idx_order_items_order",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "order_items_order_id_fkey": {
          "name": "order_items_order_id_fkey",
          "tableFrom": "order_items",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "order_items_product_id_fkey": {
          "name": "order_items_product_id_fkey",
          "tableFrom": "order_items",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "order_items_quantity_check": {
          "name": "order_items_quantity_check",
          "value": "quantity > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.bids": {
      "name": "bids",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auction_id": {
          "name": "auction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bidder_email": {
          "name": "bidder_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bidder_name": {
          "name": "bidder_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "max_bid": {
          "name": "max_bid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_auto_bid": {
          "name": "is_auto_bid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "is_winning": {
          "name": "is_winning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_bids_auction": {
          "name": "idx_bids_auction",
          "columns": [
            {
              "expression": "auction_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bids_user": {
          "name": "idx_bids_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bids_auction_id_fkey": {
          "name": "bids_auction_id_fkey",
          "tableFrom": "bids",
          "tableTo": "auctions",
          "schemaTo": "public",
          "columnsFrom": ["auction_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bids_user_id_fkey": {
          "name": "bids_user_id_fkey",
          "tableFrom": "bids",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "bids_amount_check": {
          "name": "bids_amount_check",
          "value": "amount > (0)::numeric"
        },
        "bids_status_check": {
          "name": "bids_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'outbid'::text, 'winning'::text, 'won'::text, 'cancelled'::text, 'retracted'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.auction_watchers": {
      "name": "auction_watchers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "auction_id": {
          "name": "auction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notify_outbid": {
          "name": "notify_outbid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_ending": {
          "name": "notify_ending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_result": {
          "name": "notify_result",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "auction_watchers_auction_id_fkey": {
          "name": "auction_watchers_auction_id_fkey",
          "tableFrom": "auction_watchers",
          "tableTo": "auctions",
          "schemaTo": "public",
          "columnsFrom": ["auction_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "auction_watchers_user_id_fkey": {
          "name": "auction_watchers_user_id_fkey",
          "tableFrom": "auction_watchers",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "auction_watchers_auction_id_email_key": {
          "columns": ["auction_id", "email"],
          "nullsNotDistinct": false,
          "name": "auction_watchers_auction_id_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.reviews": {
      "name": "reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_name": {
          "name": "reviewer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_email": {
          "name": "reviewer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "verified_purchase": {
          "name": "verified_purchase",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "admin_response": {
          "name": "admin_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admin_response_at": {
          "name": "admin_response_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "helpful_count": {
          "name": "helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "not_helpful_count": {
          "name": "not_helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reviews_product": {
          "name": "idx_reviews_product",
          "columns": [
            {
              "expression": "product_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_status": {
          "name": "idx_reviews_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reviews_product_id_fkey": {
          "name": "reviews_product_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reviews_user_id_fkey": {
          "name": "reviews_user_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "reviews_order_id_fkey": {
          "name": "reviews_order_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "reviews_rating_check": {
          "name": "reviews_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        },
        "reviews_status_check": {
          "name": "reviews_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text, 'flagged'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.wishlists": {
      "name": "wishlists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guest_email": {
          "name": "guest_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'My Wishlist'"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "share_token": {
          "name": "share_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_wishlists_user": {
          "name": "idx_wishlists_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wishlists_user_id_fkey": {
          "name": "wishlists_user_id_fkey",
          "tableFrom": "wishlists",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "wishlists_share_token_key": {
          "columns": ["share_token"],
          "nullsNotDistinct": false,
          "name": "wishlists_share_token_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.wishlist_items": {
      "name": "wishlist_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "wishlist_id": {
          "name": "wishlist_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "added_price": {
          "name": "added_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notify_price_drop": {
          "name": "notify_price_drop",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_back_in_stock": {
          "name": "notify_back_in_stock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_wishlist_items_wishlist": {
          "name": "idx_wishlist_items_wishlist",
          "columns": [
            {
              "expression": "wishlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wishlist_items_wishlist_id_fkey": {
          "name": "wishlist_items_wishlist_id_fkey",
          "tableFrom": "wishlist_items",
          "tableTo": "wishlists",
          "schemaTo": "public",
          "columnsFrom": ["wishlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wishlist_items_product_id_fkey": {
          "name": "wishlist_items_product_id_fkey",
          "tableFrom": "wishlist_items",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "wishlist_items_wishlist_id_product_id_key": {
          "columns": ["wishlist_id", "product_id"],
          "nullsNotDistinct": false,
          "name": "wishlist_items_wishlist_id_product_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.carts": {
      "name": "carts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "guest_email": {
          "name": "guest_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "item_count": {
          "name": "item_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "discount_code": {
          "name": "discount_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "(now() + '30 days'::interval)"
        }
      },
      "indexes": {
        "idx_carts_session": {
          "name": "idx_carts_session",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_carts_user": {
          "name": "idx_carts_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "carts_user_id_fkey": {
          "name": "carts_user_id_fkey",
          "tableFrom": "carts",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "carts_status_check": {
          "name": "carts_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'abandoned'::text, 'converted'::text, 'merged'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.cart_items": {
      "name": "cart_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "cart_id": {
          "name": "cart_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "sale_price": {
          "name": "sale_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "product_snapshot": {
          "name": "product_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cart_items_cart": {
          "name": "idx_cart_items_cart",
          "columns": [
            {
              "expression": "cart_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cart_items_cart_id_fkey": {
          "name": "cart_items_cart_id_fkey",
          "tableFrom": "cart_items",
          "tableTo": "carts",
          "schemaTo": "public",
          "columnsFrom": ["cart_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cart_items_product_id_fkey": {
          "name": "cart_items_product_id_fkey",
          "tableFrom": "cart_items",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "cart_items_cart_id_product_id_key": {
          "columns": ["cart_id", "product_id"],
          "nullsNotDistinct": false,
          "name": "cart_items_cart_id_product_id_key"
        }
      },
      "checkConstraints": {
        "cart_items_quantity_check": {
          "name": "cart_items_quantity_check",
          "value": "quantity > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_text": {
          "name": "action_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "auction_id": {
          "name": "auction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_email_sent": {
          "name": "is_email_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_sent_at": {
          "name": "email_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_read": {
          "name": "idx_notifications_read",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_read",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_read = false)",
          "with": {}
        },
        "idx_notifications_user": {
          "name": "idx_notifications_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_user_id_fkey": {
          "name": "notifications_user_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_order_id_fkey": {
          "name": "notifications_order_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "notifications_product_id_fkey": {
          "name": "notifications_product_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "notifications_auction_id_fkey": {
          "name": "notifications_auction_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "auctions",
          "schemaTo": "public",
          "columnsFrom": ["auction_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "notifications_type_check": {
          "name": "notifications_type_check",
          "value": "type = ANY (ARRAY['order_confirmation'::text, 'order_shipped'::text, 'order_delivered'::text, 'bid_placed'::text, 'outbid'::text, 'auction_won'::text, 'auction_lost'::text, 'auction_ending'::text, 'price_drop'::text, 'back_in_stock'::text, 'wishlist_sale'::text, 'review_approved'::text, 'review_response'::text, 'welcome'::text, 'password_reset'::text, 'account_update'::text, 'promo'::text, 'newsletter'::text, 'system'::text])"
        },
        "notifications_priority_check": {
          "name": "notifications_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'normal'::text, 'high'::text, 'urgent'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.email_subscriptions": {
      "name": "email_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "newsletter": {
          "name": "newsletter",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "promotions": {
          "name": "promotions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "order_updates": {
          "name": "order_updates",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "auction_updates": {
          "name": "auction_updates",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "price_alerts": {
          "name": "price_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "stock_alerts": {
          "name": "stock_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verification_token": {
          "name": "verification_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "unsubscribe_token": {
          "name": "unsubscribe_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "unsubscribed_at": {
          "name": "unsubscribed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'website'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "email_subscriptions_user_id_fkey": {
          "name": "email_subscriptions_user_id_fkey",
          "tableFrom": "email_subscriptions",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_subscriptions_email_key": {
          "columns": ["email"],
          "nullsNotDistinct": false,
          "name": "email_subscriptions_email_key"
        },
        "email_subscriptions_unsubscribe_token_key": {
          "columns": ["unsubscribe_token"],
          "nullsNotDistinct": false,
          "name": "email_subscriptions_unsubscribe_token_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.gem_facts": {
      "name": "gem_facts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "short_content": {
          "name": "short_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gemstone_type": {
          "name": "gemstone_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pages": {
      "name": "pages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "excerpt": {
          "name": "excerpt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template": {
          "name": "template",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'default'"
        },
        "featured_image": {
          "name": "featured_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "is_in_menu": {
          "name": "is_in_menu",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "menu_order": {
          "name": "menu_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "meta_title": {
          "name": "meta_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "og_image": {
          "name": "og_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_auth": {
          "name": "requires_auth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pages_slug_key": {
          "columns": ["slug"],
          "nullsNotDistinct": false,
          "name": "pages_slug_key"
        }
      },
      "checkConstraints": {
        "pages_status_check": {
          "name": "pages_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'published'::text, 'archived'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.faq": {
      "name": "faq",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "helpful_count": {
          "name": "helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "not_helpful_count": {
          "name": "not_helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.discount_usage": {
      "name": "discount_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "discount_code_id": {
          "name": "discount_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer_email": {
          "name": "customer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discount_usage_discount_code_id_fkey": {
          "name": "discount_usage_discount_code_id_fkey",
          "tableFrom": "discount_usage",
          "tableTo": "discount_codes",
          "schemaTo": "public",
          "columnsFrom": ["discount_code_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "discount_usage_order_id_fkey": {
          "name": "discount_usage_order_id_fkey",
          "tableFrom": "discount_usage",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "discount_usage_user_id_fkey": {
          "name": "discount_usage_user_id_fkey",
          "tableFrom": "discount_usage",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contact_submissions": {
      "name": "contact_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "replied_at": {
          "name": "replied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reply_message": {
          "name": "reply_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'contact_form'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contact_status": {
          "name": "idx_contact_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contact_submissions_status_check": {
          "name": "contact_submissions_status_check",
          "value": "status = ANY (ARRAY['new'::text, 'read'::text, 'replied'::text, 'spam'::text, 'archived'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.banners": {
      "name": "banners",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subtitle": {
          "name": "subtitle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mobile_image": {
          "name": "mobile_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link_url": {
          "name": "link_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link_text": {
          "name": "link_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link_target": {
          "name": "link_target",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'_self'"
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'homepage_hero'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "text_color": {
          "name": "text_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#ffffff'"
        },
        "overlay_color": {
          "name": "overlay_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overlay_opacity": {
          "name": "overlay_opacity",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.3'"
        },
        "text_position": {
          "name": "text_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'center'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.site_settings": {
      "name": "site_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'string'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_site_settings_key": {
          "name": "idx_site_settings_key",
          "columns": [
            {
              "expression": "key",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "site_settings_key_key": {
          "columns": ["key"],
          "nullsNotDistinct": false,
          "name": "site_settings_key_key"
        }
      },
      "checkConstraints": {
        "site_settings_type_check": {
          "name": "site_settings_type_check",
          "value": "type = ANY (ARRAY['string'::text, 'number'::text, 'boolean'::text, 'json'::text, 'array'::text, 'html'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.discount_codes": {
      "name": "discount_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "max_discount_amount": {
          "name": "max_discount_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_order_amount": {
          "name": "minimum_order_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "minimum_items": {
          "name": "minimum_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "applies_to": {
          "name": "applies_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'all'"
        },
        "applicable_product_ids": {
          "name": "applicable_product_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "applicable_category_ids": {
          "name": "applicable_category_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "excluded_product_ids": {
          "name": "excluded_product_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "customer_type": {
          "name": "customer_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'all'"
        },
        "allowed_customer_ids": {
          "name": "allowed_customer_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "allowed_emails": {
          "name": "allowed_emails",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "usage_limit": {
          "name": "usage_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_limit_per_customer": {
          "name": "usage_limit_per_customer",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "times_used": {
          "name": "times_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "free_shipping": {
          "name": "free_shipping",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_apply": {
          "name": "auto_apply",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_apply_priority": {
          "name": "auto_apply_priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_discount_codes_code": {
          "name": "idx_discount_codes_code",
          "columns": [
            {
              "expression": "code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "discount_codes_code_key": {
          "columns": ["code"],
          "nullsNotDistinct": false,
          "name": "discount_codes_code_key"
        }
      },
      "checkConstraints": {
        "discount_codes_type_check": {
          "name": "discount_codes_type_check",
          "value": "type = ANY (ARRAY['percentage'::text, 'fixed'::text, 'free_shipping'::text])"
        },
        "discount_codes_applies_to_check": {
          "name": "discount_codes_applies_to_check",
          "value": "applies_to = ANY (ARRAY['all'::text, 'specific_products'::text, 'specific_categories'::text, 'specific_collections'::text])"
        },
        "discount_codes_customer_type_check": {
          "name": "discount_codes_customer_type_check",
          "value": "customer_type = ANY (ARRAY['all'::text, 'new'::text, 'returning'::text, 'specific'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.shipping_zones": {
      "name": "shipping_zones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "countries": {
          "name": "countries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "provinces": {
          "name": "provinces",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "postal_codes": {
          "name": "postal_codes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.shipping_methods": {
      "name": "shipping_methods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "zone_id": {
          "name": "zone_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_cost": {
          "name": "base_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "cost_per_kg": {
          "name": "cost_per_kg",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_weight": {
          "name": "min_weight",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "max_weight": {
          "name": "max_weight",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "free_shipping_threshold": {
          "name": "free_shipping_threshold",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_delivery_days": {
          "name": "min_delivery_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_delivery_days": {
          "name": "max_delivery_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "shipping_methods_zone_id_fkey": {
          "name": "shipping_methods_zone_id_fkey",
          "tableFrom": "shipping_methods",
          "tableTo": "shipping_zones",
          "schemaTo": "public",
          "columnsFrom": ["zone_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "shipping_methods_type_check": {
          "name": "shipping_methods_type_check",
          "value": "type = ANY (ARRAY['flat_rate'::text, 'free'::text, 'weight_based'::text, 'price_based'::text, 'item_based'::text, 'calculated'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.tax_rates": {
      "name": "tax_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rate": {
          "name": "rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'CA'"
        },
        "province": {
          "name": "province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "tax_class": {
          "name": "tax_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'default'"
        },
        "is_compound": {
          "name": "is_compound",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "tax_rates_type_check": {
          "name": "tax_rates_type_check",
          "value": "type = ANY (ARRAY['standard'::text, 'reduced'::text, 'zero'::text, 'exempt'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.inventory_logs": {
      "name": "inventory_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_change": {
          "name": "quantity_change",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "previous_quantity": {
          "name": "previous_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "new_quantity": {
          "name": "new_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_inventory_logs_product": {
          "name": "idx_inventory_logs_product",
          "columns": [
            {
              "expression": "product_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "inventory_logs_product_id_fkey": {
          "name": "inventory_logs_product_id_fkey",
          "tableFrom": "inventory_logs",
          "tableTo": "products",
          "schemaTo": "public",
          "columnsFrom": ["product_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "inventory_logs_order_id_fkey": {
          "name": "inventory_logs_order_id_fkey",
          "tableFrom": "inventory_logs",
          "tableTo": "orders",
          "schemaTo": "public",
          "columnsFrom": ["order_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "inventory_logs_user_id_fkey": {
          "name": "inventory_logs_user_id_fkey",
          "tableFrom": "inventory_logs",
          "tableTo": "users",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "inventory_logs_reason_check": {
          "name": "inventory_logs_reason_check",
          "value": "reason = ANY (ARRAY['sale'::text, 'return'::text, 'adjustment'::text, 'restock'::text, 'damaged'::text, 'theft'::text, 'count'::text, 'import'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "products": {
        "columns": {
          "images": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "auctions": {
        "columns": {
          "images": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "reviews": {
        "columns": {
          "images": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "carts": {
        "columns": {
          "expires_at": {
            "isDefaultAnExpression": true
          }
        }
      },
      "discount_codes": {
        "columns": {
          "applicable_product_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "applicable_category_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "excluded_product_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "allowed_customer_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "allowed_emails": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "shipping_zones": {
        "columns": {
          "countries": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "provinces": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "postal_codes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}
